<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Builderz - Construction Company Website Template</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="Creatix Design - 3D print shop" name="keywords">
        <meta content="Creatix Design - 3D print shop" name="description">
        <!-- Favicon -->
        <link href="img/favicon.ico" rel="icon">

        <!-- Google Font -->
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

        <!-- CSS Libraries -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="lib/flaticon/font/flaticon.css" rel="stylesheet"> 
        <link href="lib/animate/animate.min.css" rel="stylesheet">
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
        <link href="lib/slick/slick.css" rel="stylesheet">
        <link href="lib/slick/slick-theme.css" rel="stylesheet">

        <!-- Template Stylesheet -->
        <link href="css/korpa.css" rel="stylesheet">
    </head>

    <body>
        <div class="wrapper">

            <!-- Nav Bar Start -->
            <div class="nav-bar">
                <div class="container-fluid">
                    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
                        <a href="#" class="navbar-brand">MENU</a>
                        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <class class="collapse navbar-collapse justify-content-between" id="navbarCollapse"> 
                            <div class="navbar-nav mr-auto">
                                <img src="./img/Logo.jpg" alt="">
                                <a href="index.html" class="nav-item nav-link ">Početna</a>
                                <a href="o nama.html" class="nav-item nav-link">O nama</a>
                                <a href="usluge.html" class="nav-item nav-link">Usluge </a>
                                <a href="naš tim.html" class="nav-item nav-link">Naš tim</a>
                                <a href="projekti.html" class="nav-item nav-link">Projekti</a>
                                <a href="web shop.html" class="nav-item nav-link">Shop</a>
                                 <a href="kontakt.html" class="nav-item nav-link">Kontakt</a>
                                </div><div class="ml-auto">
                                <a class="nav-item nav-link active" href="korpa.html"><img src="./img/cart.png" alt="Korpa"></a>
                               </class>
                            </div>
                            
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
            <div class="container" style="margin-top: 150px;">
                <ol id="items" class="list-group list-group-numbered">
                    
                </ol>
                </div>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <script>
   
    loadItems();

    function loadItems() {
        let items = getItems();
        if(!items){
          items = [];
        }

        for(let i = 0; i < items.length; ++i){
            var li = document.createElement("li");
            li.classList.add("list-group-item");
            li.classList.add("d-flex");
            li.classList.add("justify-content-between");
            li.classList.add("align-items-start");
            li.classList.add("list-item");

            var div1 = document.createElement("div");
            div1.classList.add("ms-2");
            div1.classList.add("me-auto");

            var div2 = document.createElement("div");
            div2.classList.add("fw-bold");

            div2.innerHTML = items[i].title;
            div1.appendChild(div2);

            var span = document.createElement("span");
            span.classList.add("badge");
            span.classList.add("bg-primary");
            span.classList.add("rounded-pill");
            span.innerHTML = items[i].price;

            var button = document.createElement("button");
            button.classList.add("btn");
            button.classList.add("btn-danger");
            button.classList.add("btn-sm");
            button.setAttribute("onClick", `removeItem('${items[i].title}')`);
            button.innerText = 'Remove From Cart';

            li.appendChild(div1);
            li.appendChild(span);
            li.appendChild(button);

            var itemsList = document.getElementById("items");
            itemsList.appendChild(li);
        }
    }

    /**
     *  Returns cart items from local storage 
     */
     function getItems(){
        return JSON.parse(localStorage.getItem('items'));
    }

    /**
     * Removes single item from the list
     */
    function removeItem(itemName){
        let items = getItems();
        let newItems = [];

        for(let item of items){
            if(item.title !== itemName){
                newItems.push(item);
            }
        }

        localStorage.removeItem('items');
        localStorage.setItem('items', JSON.stringify(newItems));
        location.reload();
    }
    </script>
</html>